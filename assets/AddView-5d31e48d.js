import{H as _,a as m,_ as f,r as v,o as l,c as h,b as g,d as e,e as y,F as d,f as w,g as p,w as n,v as u,h as k,t as T,p as V,i as b}from"./index-5b43293b.js";const C={components:{HeaderBar:_},data(){return{errors:[""],saved:!1,functionCalled:!1,sku:"",name:"",price:"",productType:"",size:"0",height:"0",width:"0",length:"0",weight:"0"}},methods:{validateForm(r){this.functionCalled=r,this.areFieldsEmpty()&&this.isDataCorrect()?this.saved=!0:this.saved=!1},areFieldsEmpty(){return this.sku&&this.name&&this.price&&this.productType&&(this.size||this.height&&this.width&&this.length||this.weight)?!0:(this.errors=[],this.sku||this.errors.push("SKU required."),this.name||this.errors.push("Name required."),this.price||this.errors.push("Price required."),this.productType||this.errors.push("Product Type required."),this.productType=="dvd"&&!this.size&&this.errors.push("DVD size required."),this.productType=="furniture"&&!this.height&&this.errors.push("Furniture height required."),this.productType=="furniture"&&!this.width&&this.errors.push("Furniture width required."),this.productType=="furniture"&&!this.length&&this.errors.push("Furniture length required."),this.productType=="book"&&!this.weight&&this.errors.push("Book weight required."),!1)},isDataCorrect(){return this.sku=this.sku.toUpperCase(),!0}},beforeRouteLeave(){if(this.saved&&this.functionCalled){var r=new FormData;r.append("sku",this.sku),r.append("name",this.name),r.append("price",this.price),r.append("size",this.size),r.append("height",this.height),r.append("width",this.width),r.append("length",this.length),r.append("weight",this.weight),m({url:"http://localhost/src/config/insert.php",method:"post",data:r}).then(t=>{if(t.data.res=="success")return!0;console.error(t.data)}).catch(t=>(console.error(t),!1))}else{if(!this.saved&&this.functionCalled)return!1;if(!this.functionCalled)return!0}}};const o=r=>(V("data-v-3056f48c"),r=r(),b(),r),U={class:"add-view-container"},z={key:0},D={class:"form-container",id:"product_form"},F=o(()=>e("h3",null,"SKU",-1)),S=o(()=>e("h3",null,"Name",-1)),q=o(()=>e("h3",null,"Price ($)",-1)),x=o(()=>e("h3",null,"Type Switcher",-1)),B=o(()=>e("option",{value:"dvd"},"DVD",-1)),P=o(()=>e("option",{value:"furniture"},"Furniture",-1)),H=o(()=>e("option",{value:"book"},"Book",-1)),M=[B,P,H],N={key:0,class:"type-container"},I=o(()=>e("h3",null,"Size (MB)",-1)),L=o(()=>e("p",null,"Please provide size of DVD",-1)),E={key:1,class:"type-container"},K=o(()=>e("h3",null,"Height (CM)",-1)),W=o(()=>e("h3",null,"Width (CM)",-1)),A=o(()=>e("h3",null,"Length (CM)",-1)),G=o(()=>e("p",null,"Please provide dimensions in HxWxL format",-1)),R={key:2,class:"type-container"},j=o(()=>e("h3",null,"Weight (KG)",-1)),J=o(()=>e("p",null,"Please provide weight of book",-1));function O(r,t,Q,X,i,a){const c=v("HeaderBar");return l(),h(d,null,[g(c,{onSwitchPage:a.validateForm},null,8,["onSwitchPage"]),e("div",U,[i.errors[0]!=""?(l(),h("b",z,[y(" Please submit required data: "),e("ul",null,[(l(!0),h(d,null,w(i.errors,s=>(l(),h("li",{key:s},T(s),1))),128))])])):p("",!0),e("form",D,[e("div",null,[F,n(e("input",{id:"sku","onUpdate:modelValue":t[0]||(t[0]=s=>i.sku=s)},null,512),[[u,i.sku]])]),e("div",null,[S,n(e("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=s=>i.name=s)},null,512),[[u,i.name]])]),e("div",null,[q,n(e("input",{type:"number",id:"price","onUpdate:modelValue":t[2]||(t[2]=s=>i.price=s)},null,512),[[u,i.price]])]),e("div",null,[x,n(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.productType=s),id:"productType"},M,512),[[k,i.productType]])]),i.productType=="dvd"?(l(),h("div",N,[e("div",null,[I,n(e("input",{type:"number",id:"size","onUpdate:modelValue":t[4]||(t[4]=s=>i.size=s)},null,512),[[u,i.size]])]),L])):i.productType=="furniture"?(l(),h("div",E,[e("div",null,[K,n(e("input",{type:"number",id:"height","onUpdate:modelValue":t[5]||(t[5]=s=>i.height=s)},null,512),[[u,i.height]])]),e("div",null,[W,n(e("input",{type:"number",id:"width","onUpdate:modelValue":t[6]||(t[6]=s=>i.width=s)},null,512),[[u,i.width]])]),e("div",null,[A,n(e("input",{type:"number",id:"length","onUpdate:modelValue":t[7]||(t[7]=s=>i.length=s)},null,512),[[u,i.length]])]),G])):i.productType=="book"?(l(),h("div",R,[e("div",null,[j,n(e("input",{type:"number",id:"weight","onUpdate:modelValue":t[8]||(t[8]=s=>i.weight=s)},null,512),[[u,i.weight]])]),J])):p("",!0)])])],64)}const Z=f(C,[["render",O],["__scopeId","data-v-3056f48c"]]);export{Z as default};
